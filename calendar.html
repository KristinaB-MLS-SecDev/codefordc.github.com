---
layout: default
title: Calendar
extra_css:
  - assets/css/calendar.css
---

<div class="container">
    <div class="calendar clearfix">
    </div>
</div>

<script type="text/template" id="calendar-template">
<div class="row clndr-controls">
    <div class="col-sm-2 clndr-previous-button">&lsaquo;</div>
    <div class="col-sm-8 month"><%= month %> <%= year %></div>
    <div class="col-sm-2 clndr-next-button">&rsaquo;</div>
</div>
<div class="row">
<div class="col-sm-7">
<div class="clndr-grid">
    <div class="days-of-the-week clearfix">
    <% _.each(daysOfTheWeek, function(day) { %>
        <div class="header-day"><%= day %></div>
    <% }); %>
    </div>
    <div class="days clearfix">
    <% _.each(days, function(day) { %>
        <div class="<%= day.classes %>"><span class="day-number"><%= day.day %></span></div>
    <% }); %>
    </div>
</div>
<div class="events">
    <div class="event-listing">
        <div class="event-listing-title">EVENTS THIS MONTH</div>
        <% var dates_used = []; %>
        <% _.each(eventsThisMonth, function(event) { %>
            <div class="row event-item <%= event.group.urlname %>" id="<%= event.id %>">
                <% if ($.inArray(event.time, dates_used) == -1) { %>
                <div class="col-sm-12 event-item-time"><%= event.date_formatted %></div>
                <% }; dates_used.push(event.time); %>
                <div class="col-sm-2">Who:</div>
                <div class="col-sm-10 event-item-group"><%= event.group.name %></div>
                <div class="col-sm-2">What:</div>
                <div class="col-sm-10 event-item-name"><%= event.name %></div>
                <% if (event.venue) { %>
                <div class="col-sm-2">Where:</div>
                <div class="col-sm-10 event-item-location"><%= event.venue.name %>, <%= event.venue.address_1 %></div>
                <% } %>
                <div class="col-sm-12 event-item-url"><a href="<%= event.event_url %>">Click here to register</a></div>
            </div>
        <% }); %>
    </div>
</div>
</div>
<div class="col-sm-5 group-listing">
    <div class="group-listing-title">MEETUP GROUPS</div>
    <% var groups_used = []; %>
    <% _.each(eventsThisMonth, function(event) { %>
        <% if ($.inArray(event.group.name, groups_used) == -1) { %>
        <div class="group-item" id="<%= event.group.urlname %>">
            <div class="group-item-name"><%= event.group.name %></div>
            <div class="group-item-who">For: <%= event.group.who %></div>
        </div>
        <% }; groups_used.push(event.group.name); %>
    <% }); %>
</div>
</div>
</script>


{% include _global_js.html %}
<script type="text/javascript" src="assets/js/moment.min.js"></script>
<script type="text/javascript" src="assets/js/underscore-min.js"></script>
<script type="text/javascript" src="assets/js/clndr.min.js"></script>

<script>
var cal = []
window.calendar = function(data){
    c4dc = data["codefordc"]
    $.each(c4dc, function(i, info){
        info["date"] = moment(info["time"]).format();
        info["date_formatted"] = moment(info["time"]).format("dddd, MMMM Do [at] h:mm a");
        cal.push(info)
    });
    other = data["other"]
    $.each(other, function(i, info){
        info["date"] = moment(info["time"]).format();
        info["date_formatted"] = moment(info["time"]).format("dddd, MMMM Do [at] h:mm a");
        cal.push(info)
    });
}
$(document).ready(function(){
    calendar = $('.calendar').clndr({
        events: cal,
        template: $("#calendar-template").html(),
        clickEvents: {
            click: function(target){
                $(".event-item").hide();
                _.each(target.events, function(event){
                    $("#"+event.id).show();
                    console.log(event);
                });
            }
        }
    });
    $(".group-item").click(function(){
        var name = $(this).attr("id");
        $(".event-item").hide();
        $("."+name).show();
    });
});
</script>
<script src="https://rawgit.com/codefordc/files/master/calendar.js"></script>
